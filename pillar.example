# -*- coding: utf-8 -*-
# vim: ft=yaml
---
systemd:
  ## tofs pattern
  tofs:
    files:
      networkd:
        - 'networkd'
      resolved:
        - 'resovled.conf'
      timesyncd:
        - 'timesyncd.conf'

  ## systemd:units
  service:
    syncthing-someuser:
      Unit:
        Description: Syncthing P2P sync service for someuser
        After: network.target
  
      Service:
        ExecStart: /usr/bin/syncthing
        User: someuser
        Group: someuser
        Environment: STNORESTART=yes HOME=/home/someuser
  
      Install:
        WantedBy: multi-user.target

  ## systemd:timesyncd
  timesyncd:
    timezone: 'UTC'

  ## systemd:networkd
  networkd:
    profiles:
      ## eth0.network
      network:
        eth0:
          - Match:
            - Name: eth0
          - Network:
            - DHCP: "yes"

      ## br0.netdev      
      netdev:
        br0:
          - Match:
            - Name: br0
            - Kind: bridge
          - Bridge:
            - HelloTimeSec: 0
            - MaxAgeSec: 0
            - ForwardDelaySec: 0
            - STP: 'no'
      
      ## 10-dmz.link
      link:
        10-dmz:
          - Match:
            - MACAddress: '00:a0:de:63:7a:e6'
          - Link:
            - Name: dmz0

      # 10-internet.link
        10-internet:
          - Match:
            - Path: 'pci-0000:00:1a.0-*'
          - Link:
            - Name: internet0
